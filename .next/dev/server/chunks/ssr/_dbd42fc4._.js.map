{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegovellasco/simplegame/app/editor/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nconst PIN = \"8989\";\nconst GRID_WIDTH = 20;\nconst GRID_HEIGHT = 12;\nconst palette = [{ id: 0, label: \"Piso pedra grande\" }] as const;\n\ntype GridMatrix = number[][];\n\nfunction buildEmptyGrid(): GridMatrix {\n  return Array.from({ length: GRID_HEIGHT }, () => Array(GRID_WIDTH).fill(0));\n}\n\nexport default function EditorPage() {\n  const [pin, setPin] = useState(\"\");\n  const [unlocked, setUnlocked] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [selectedTile, setSelectedTile] = useState<number>(palette[0].id);\n  const [grid, setGrid] = useState<GridMatrix>(() => buildEmptyGrid());\n  const [copied, setCopied] = useState(false);\n\n  const output = useMemo(() => JSON.stringify(grid), [grid]);\n\n  function authenticate(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    if (pin === PIN) {\n      setUnlocked(true);\n      setError(null);\n    } else {\n      setError(\"PIN inválido\");\n    }\n  }\n\n  function paintCell(rowIndex: number, columnIndex: number) {\n    setGrid((previous) =>\n      previous.map((row, r) =>\n        row.map((value, c) => {\n          if (r === rowIndex && c === columnIndex) {\n            return selectedTile;\n          }\n          return value;\n        })\n      )\n    );\n  }\n\n  function clearGrid() {\n    setGrid(buildEmptyGrid());\n  }\n\n  async function copyToClipboard() {\n    await navigator.clipboard.writeText(output);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 1500);\n  }\n\n  return (\n    <section>\n      <div className=\"card\">\n        <h2>Admin / Editor de Mapas</h2>\n        <p>Restrito. Use o PIN <strong>8989</strong> para habilitar o editor de tiles da cidade.</p>\n        {!unlocked && (\n          <form onSubmit={authenticate}>\n            <label htmlFor=\"pin\">PIN</label>\n            <input\n              id=\"pin\"\n              type=\"password\"\n              value={pin}\n              onChange={(event) => setPin(event.target.value)}\n              placeholder=\"****\"\n            />\n            {error && <p>{error}</p>}\n            <button className=\"button\">Entrar</button>\n          </form>\n        )}\n        {unlocked && <p>Acesso concedido. Configure abaixo e exporte o grid para uso no Phaser.</p>}\n      </div>\n\n      {unlocked && (\n        <>\n          <div className=\"card\">\n            <h3>Paleta de Tiles — tile1.png</h3>\n            <p>Tile único (100×87) reamostrado para preencher cada célula de 64 px no mapa.</p>\n            <div style={{ display: \"flex\", gap: 12, flexWrap: \"wrap\" }}>\n              {palette.map((tile) => (\n                <button\n                  key={tile.id}\n                  type=\"button\"\n                  onClick={() => setSelectedTile(tile.id)}\n                  style={{\n                    borderRadius: 12,\n                    padding: 0,\n                    width: 64,\n                    height: 64,\n                    border: selectedTile === tile.id ? \"2px solid #48c6ef\" : \"1px solid rgba(255,255,255,0.2)\",\n                    backgroundImage: \"url(/tilesets/tile1.png)\",\n                    backgroundSize: \"cover\",\n                    backgroundPosition: \"center\",\n                    cursor: \"pointer\"\n                  }}\n                  title={tile.label}\n                />\n              ))}\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3>Grid (20 × 12)</h3>\n            <p>Clique para pintar cada célula com o tile selecionado.</p>\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: `repeat(${GRID_WIDTH}, 24px)`,\n                gap: 2,\n                justifyContent: \"flex-start\",\n                overflowX: \"auto\"\n              }}\n            >\n              {grid.map((row, rowIndex) =>\n                row.map((value, columnIndex) => (\n                  <button\n                    type=\"button\"\n                    key={`${rowIndex}-${columnIndex}`}\n                    onClick={() => paintCell(rowIndex, columnIndex)}\n                    style={{\n                      width: 24,\n                      height: 24,\n                      padding: 0,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      borderRadius: 4,\n                      backgroundImage: \"url(/tilesets/tile1.png)\",\n                      backgroundSize: \"cover\",\n                      backgroundPosition: \"center\"\n                    }}\n                    aria-label={`linha ${rowIndex + 1}, coluna ${columnIndex + 1}`}\n                  />\n                ))\n              )}\n            </div>\n            <div style={{ marginTop: 16, display: \"flex\", gap: 12 }}>\n              <button className=\"button\" type=\"button\" onClick={clearGrid}>\n                Limpar grid\n              </button>\n              <button className=\"button\" type=\"button\" onClick={copyToClipboard}>\n                {copied ? \"Copiado!\" : \"Copiar JSON\"}\n              </button>\n            </div>\n            <label htmlFor=\"grid-json\" style={{ marginTop: 16 }}>\n              JSON Exportado\n            </label>\n            <textarea\n              id=\"grid-json\"\n              readOnly\n              value={output}\n              style={{ width: \"100%\", minHeight: 120 }}\n            />\n          </div>\n        </>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegovellasco/simplegame/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}