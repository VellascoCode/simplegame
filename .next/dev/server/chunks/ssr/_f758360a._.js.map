{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegovellasco/simplegame/lib/clientApi.ts"],"sourcesContent":["const API_BASE = process.env.NEXT_PUBLIC_API_URL ?? \"\";\n\nexport async function getJSON<T>(path: string) {\n  const response = await fetch(`${API_BASE}${path}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    cache: \"no-store\"\n  });\n\n  if (!response.ok) {\n    throw new Error(await response.text());\n  }\n\n  return (await response.json()) as T;\n}\n\nexport async function postJSON<T>(path: string, body: unknown) {\n  const response = await fetch(`${API_BASE}${path}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(body)\n  });\n\n  if (!response.ok) {\n    throw new Error(await response.text());\n  }\n\n  return (await response.json()) as T;\n}\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,WAAW,iEAAmC;AAE7C,eAAe,QAAW,IAAY;IAC3C,MAAM,WAAW,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QACjD,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,OAAO;IACT;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,MAAM,SAAS,IAAI;IACrC;IAEA,OAAQ,MAAM,SAAS,IAAI;AAC7B;AAEO,eAAe,SAAY,IAAY,EAAE,IAAa;IAC3D,MAAM,WAAW,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QACjD,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,MAAM,SAAS,IAAI;IACrC;IAEA,OAAQ,MAAM,SAAS,IAAI;AAC7B"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegovellasco/simplegame/app/character/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { getJSON, postJSON } from \"@/lib/clientApi\";\nimport type { Character } from \"@/lib/models\";\n\nconst spriteOptions = [\"default\", \"guerreiro\", \"arqueira\", \"mago\"];\n\ntype CharacterListResponse = {\n  characters: Character[];\n};\n\nexport default function CharacterPage() {\n  const [form, setForm] = useState({ ownerId: \"\", name: \"\", sprite: spriteOptions[0] });\n  const [characters, setCharacters] = useState<Character[]>([]);\n  const [message, setMessage] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [loadingList, setLoadingList] = useState(false);\n\n  const characterLimitReached = characters.length >= 4;\n\n  async function handleCreate(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    if (!form.ownerId) {\n      setMessage(\"Informe o ownerId para criar personagens.\");\n      return;\n    }\n    setLoading(true);\n    setMessage(null);\n    try {\n      await postJSON<Character>(\"/api/character/create\", form);\n      setMessage(`Personagem ${form.name} criado.`);\n      setForm((prev) => ({ ...prev, name: \"\" }));\n      await loadCharacters(form.ownerId);\n    } catch (err) {\n      setMessage(getMessage(err));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function loadCharacters(ownerId: string) {\n    setLoadingList(true);\n    setMessage(null);\n    try {\n      const response = await getJSON<CharacterListResponse>(`/api/character/get?ownerId=${ownerId}`);\n      setCharacters(response.characters);\n    } catch (err) {\n      setCharacters([]);\n      setMessage(getMessage(err));\n    } finally {\n      setLoadingList(false);\n    }\n  }\n\n  async function handleLoad() {\n    if (!form.ownerId) {\n      setMessage(\"Informe o ownerId\");\n      return;\n    }\n    await loadCharacters(form.ownerId);\n  }\n\n  return (\n    <section>\n      <div className=\"card\">\n        <h2>Etapa 1 — Criação de Personagem (até 4 por usuário)</h2>\n        <p>Preencha o ownerId (ID do usuário) e gerencie até 4 personagens, cada um com sprite.</p>\n        {message && <p>{message}</p>}\n      </div>\n      <div className=\"grid\">\n        <div className=\"card\">\n          <form onSubmit={handleCreate}>\n            <label htmlFor=\"ownerId\">Owner ID</label>\n            <input\n              id=\"ownerId\"\n              required\n              value={form.ownerId}\n              onChange={(event) => setForm((prev) => ({ ...prev, ownerId: event.target.value }))}\n            />\n            <label htmlFor=\"name\">Nome</label>\n            <input\n              id=\"name\"\n              required\n              minLength={3}\n              value={form.name}\n              onChange={(event) => setForm((prev) => ({ ...prev, name: event.target.value }))}\n              disabled={characterLimitReached}\n            />\n            <label htmlFor=\"sprite\">Sprite</label>\n            <select\n              id=\"sprite\"\n              value={form.sprite}\n              onChange={(event) => setForm((prev) => ({ ...prev, sprite: event.target.value }))}\n              disabled={characterLimitReached}\n            >\n              {spriteOptions.map((option) => (\n                <option key={option}>{option}</option>\n              ))}\n            </select>\n            <button className=\"button\" disabled={loading || characterLimitReached}>\n              {characterLimitReached ? \"Limite de 4 alcançado\" : \"Salvar Personagem\"}\n            </button>\n          </form>\n        </div>\n        <div className=\"card\">\n          <h3>Personagens do usuário</h3>\n          <button className=\"button\" type=\"button\" onClick={handleLoad}>\n            Carregar personagens\n          </button>\n          {loadingList && <p>Carregando…</p>}\n          <ul className=\"list\" style={{ marginTop: 12 }}>\n            {characters.map((character) => (\n              <li key={character._id ?? character.name}>\n                {character.name} — sprite {character.sprite} — nível {character.stats.level} — ID:\n                <code>{character._id}</code>\n              </li>\n            ))}\n            {characters.length === 0 && !loadingList && <li>Nenhum personagem carregado.</li>}\n          </ul>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nfunction getMessage(err: unknown) {\n  return err instanceof Error ? err.message : \"Erro desconhecido\";\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///Users/diegovellasco/simplegame/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}